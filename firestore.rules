rules_version = '2';

service cloud.firestore {
  match /databases/{database}/documents {
  match /Legal/{document=**}{
  	allow read: if true;
  }
   match /Users/{document=**} {
      allow read, write: if true;
    }
  
  	match /{document=**}{
      allow read, write: if request.auth.token.email_verified;
      allow delete, update: if request.auth.token.email == "2dkroom@gmail.com";
    }
    match /User%20Posts/{document=**} {
      allow read, write: if request.auth.token.email.matches('.*@korea\\.ac\\.kr$')
     ;
      
    }
    match /Agency/{document =**}{
    	allow read, write : if request.auth.token.email_verified;
    }
    
    match /Sungshin%20Posts/{document=**} {
      allow write: if request.auth.token.email_verified &&
      request.auth.token.email.matches('.*@sungshin\\.ac\\.kr$');
      allow read: if request.auth.token.email_verified &&
      request.auth.token.email.matches('.*@sungshin\\.ac\\.kr$');
    }

    
  }
}
